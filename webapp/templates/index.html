<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>SubRadar</title>
    <script src="https://telegram.org/js/telegram-web-app.js">
    </script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <span class="logo">üó°</span>
                <h1>SubRadar</h1>
            </div>
            <div class="header-right">
                <span id="premium-badge" class="badge hidden">
                    ‚≠ê Premium
                </span>
            </div>
        </header>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>

        <!-- Pain Counter Banner -->
        <div id="pain-banner" class="pain-banner hidden">
            <div class="pain-label">–î–µ–Ω—å–≥–∏ —É—Ç–µ–∫–∞—é—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</div>
            <div class="pain-amount" id="pain-amount">0.00‚ÇΩ</div>
            <div class="pain-sublabel" id="pain-today">
                –°–µ–≥–æ–¥–Ω—è: 0‚ÇΩ
            </div>
        </div>

        <!-- Health Score -->
        <div id="health-card" class="card health-card hidden">
            <div class="health-score-container">
                <div class="health-score" id="health-score">0</div>
                <div class="health-label">–ó–¥–æ—Ä–æ–≤—å–µ –ø–æ–¥–ø–∏—Å–æ–∫</div>
                <div class="health-bar">
                    <div class="health-bar-fill"
                         id="health-bar-fill"></div>
                </div>
            </div>
            <div class="health-stats">
                <div class="stat">
                    <span class="stat-value"
                          id="total-monthly">0‚ÇΩ</span>
                    <span class="stat-label">–≤ –º–µ—Å—è—Ü</span>
                </div>
                <div class="stat">
                    <span class="stat-value stat-red"
                          id="wasted-monthly">0‚ÇΩ</span>
                    <span class="stat-label">–≤–ø—É—Å—Ç—É—é</span>
                </div>
                <div class="stat">
                    <span class="stat-value stat-green"
                          id="saved-monthly">0‚ÇΩ</span>
                    <span class="stat-label">—Å—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ</span>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <nav class="tabs" id="tabs">
            <button class="tab active"
                    data-tab="subscriptions">
                üìã –ü–æ–¥–ø–∏—Å–∫–∏
            </button>
            <button class="tab" data-tab="add">
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å
            </button>
            <button class="tab" data-tab="analytics">
                üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
            </button>
            <button class="tab" data-tab="achievements">
                üèÜ –ê—á–∏–≤–∫–∏
            </button>
        </nav>

        <!-- Subscriptions Tab -->
        <div id="tab-subscriptions" class="tab-content active">
            <div id="subs-list" class="subs-list">
                <p class="empty-state">
                    –ù–µ—Ç –ø–æ–¥–ø–∏—Å–æ–∫. –î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é!
                </p>
            </div>
        </div>

        <!-- Add Tab -->
        <div id="tab-add" class="tab-content">
            <!-- Popular Subs -->
            <h3 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</h3>
            <div id="popular-subs" class="popular-grid"></div>

            <h3 class="section-title">–ò–ª–∏ –≤–≤–µ–¥–∏ –≤—Ä—É—á–Ω—É—é</h3>
            <form id="add-form" class="add-form">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" id="sub-name"
                           placeholder="Netflix, Spotify..."
                           required>
                </div>
                <div class="form-group">
                    <label>–¶–µ–Ω–∞ (‚ÇΩ)</label>
                    <input type="number" id="sub-price"
                           placeholder="499" required
                           min="1" step="1">
                </div>
                <div class="form-group">
                    <label>–ü–µ—Ä–∏–æ–¥</label>
                    <select id="sub-cycle">
                        <option value="monthly">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
                        <option value="weekly">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ</option>
                        <option value="quarterly">
                            –†–∞–∑ –≤ 3 –º–µ—Å—è—Ü–∞
                        </option>
                        <option value="semi_annual">
                            –†–∞–∑ –≤ –ø–æ–ª–≥–æ–¥–∞
                        </option>
                        <option value="annual">–ï–∂–µ–≥–æ–¥–Ω–æ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="sub-category"></select>
                </div>
                <div class="form-group">
                    <label>–î–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è</label>
                    <input type="date" id="sub-date">
                </div>
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="sub-trial">
                    <label for="sub-trial">
                        –≠—Ç–æ –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ (trial)
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">
                    ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                </button>
            </form>
        </div>

        <!-- Analytics Tab -->
        <div id="tab-analytics" class="tab-content">
            <div id="analytics-content">
                <!-- Investments -->
                <div class="card" id="invest-card">
                    <h3>üé∞ –ï—Å–ª–∏ –±—ã —Ç—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–ª</h3>
                    <div class="invest-grid">
                        <div class="invest-item">
                            <span class="invest-period">
                                5 –ª–µ—Ç (S&P500)
                            </span>
                            <span class="invest-amount"
                                  id="invest-5y">0‚ÇΩ</span>
                        </div>
                        <div class="invest-item">
                            <span class="invest-period">
                                10 –ª–µ—Ç (S&P500)
                            </span>
                            <span class="invest-amount"
                                  id="invest-10y">0‚ÇΩ</span>
                        </div>
                    </div>
                </div>

                <!-- Categories -->
                <div class="card" id="categories-card">
                    <h3>üìÅ –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                    <div id="categories-list"></div>
                </div>
            </div>
        </div>

        <!-- Achievements Tab -->
        <div id="tab-achievements" class="tab-content">
            <div id="earned-achievements"></div>
            <h3 class="section-title" id="locked-title"
                style="display:none">
                üîí –ï—â—ë –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å
            </h3>
            <div id="locked-achievements"></div>
        </div>

        <!-- Subscription Detail Modal -->
        <div id="sub-modal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title"></h3>
                    <button class="modal-close"
                            onclick="closeModal()">‚úï</button>
                </div>
                <div id="modal-body"></div>
                <div class="modal-actions">
                    <select id="modal-usage"
                            class="usage-select">
                        <option value="high">
                            üü¢ –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é
                        </option>
                        <option value="medium">
                            üü° –ò–Ω–æ–≥–¥–∞
                        </option>
                        <option value="low">
                            üî¥ –†–µ–¥–∫–æ
                        </option>
                        <option value="none">
                            ‚ö´ –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é
                        </option>
                    </select>
                    <button class="btn btn-save"
                            id="btn-save-usage">
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                    <button class="btn btn-danger"
                            id="btn-cancel-sub">
                        ‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                    </button>
                    <button class="btn btn-alt"
                            id="btn-find-alt">
                        üí£ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
                    </button>
                </div>
                <!-- Alternatives section -->
                <div id="alternatives-section" class="hidden">
                    <h4>üí£ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã</h4>
                    <div id="alternatives-list"></div>
                </div>
            </div>
        </div>

        <!-- Toast -->
        <div id="toast" class="toast hidden"></div>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>
